/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include "J1939Config.h"

// J1939 Configuration Tables
// SPN and PGN definitions for data-driven encoding
#include "types/EValueId.h"
#include "types/TSpnConfig.h"
#include "types/TPgnConfig.h"

#include <stdint.h>

// SPN encoding configurations
// Each entry maps a J1939 SPN to a physical value with encoding parameters
extern const TSpnConfig SPN_CONFIGS[20] = {(TSpnConfig){ .spn = 108, .pgn = 65269, .bytePos = 1, .dataLength = 1, .resolution = 0.5, .offset = 0.0, .source = EValueId_AMBIENT_PRES }, (TSpnConfig){ .spn = 171, .pgn = 65269, .bytePos = 4, .dataLength = 2, .resolution = 0.03125, .offset = 273.0, .source = EValueId_AMBIENT_TEMP }, (TSpnConfig){ .spn = 172, .pgn = 65269, .bytePos = 6, .dataLength = 1, .resolution = 1.0, .offset = 40.0, .source = EValueId_CAC1_OUTLET_TEMP }, (TSpnConfig){ .spn = 102, .pgn = 65270, .bytePos = 2, .dataLength = 1, .resolution = 2.0, .offset = 0.0, .source = EValueId_MANIFOLD1_ABS_PRES }, (TSpnConfig){ .spn = 105, .pgn = 65270, .bytePos = 3, .dataLength = 1, .resolution = 1.0, .offset = 40.0, .source = EValueId_MANIFOLD1_TEMP }, (TSpnConfig){ .spn = 106, .pgn = 65270, .bytePos = 4, .dataLength = 1, .resolution = 2.0, .offset = 0.0, .source = EValueId_TURBO1_COMP_INLET_PRES }, (TSpnConfig){ .spn = 173, .pgn = 65270, .bytePos = 6, .dataLength = 2, .resolution = 0.03125, .offset = 273.0, .source = EValueId_TURBO1_TURB_INLET_TEMP }, (TSpnConfig){ .spn = 110, .pgn = 65262, .bytePos = 1, .dataLength = 1, .resolution = 1.0, .offset = 40.0, .source = EValueId_COOLANT_TEMP }, (TSpnConfig){ .spn = 174, .pgn = 65262, .bytePos = 2, .dataLength = 1, .resolution = 1.0, .offset = 40.0, .source = EValueId_FUEL_TEMP }, (TSpnConfig){ .spn = 175, .pgn = 65262, .bytePos = 3, .dataLength = 1, .resolution = 1.0, .offset = 40.0, .source = EValueId_OIL_TEMP }, (TSpnConfig){ .spn = 94, .pgn = 65263, .bytePos = 1, .dataLength = 1, .resolution = 4.0, .offset = 0.0, .source = EValueId_FUEL_PRES }, (TSpnConfig){ .spn = 100, .pgn = 65263, .bytePos = 4, .dataLength = 1, .resolution = 4.0, .offset = 0.0, .source = EValueId_OIL_PRES }, (TSpnConfig){ .spn = 109, .pgn = 65263, .bytePos = 7, .dataLength = 1, .resolution = 2.0, .offset = 0.0, .source = EValueId_COOLANT_PRES }, (TSpnConfig){ .spn = 441, .pgn = 65164, .bytePos = 1, .dataLength = 1, .resolution = 1.0, .offset = 40.0, .source = EValueId_ENGINE_BAY_TEMP }, (TSpnConfig){ .spn = 354, .pgn = 65164, .bytePos = 7, .dataLength = 1, .resolution = 0.4, .offset = 0.0, .source = EValueId_AMBIENT_HUMIDITY }, (TSpnConfig){ .spn = 1127, .pgn = 65190, .bytePos = 1, .dataLength = 2, .resolution = 0.125, .offset = 0.0, .source = EValueId_TURBO1_COMP_OUTLET_PRES }, (TSpnConfig){ .spn = 1363, .pgn = 65129, .bytePos = 1, .dataLength = 2, .resolution = 0.03125, .offset = 273.0, .source = EValueId_MANIFOLD1_TEMP }, (TSpnConfig){ .spn = 1637, .pgn = 65129, .bytePos = 3, .dataLength = 2, .resolution = 0.03125, .offset = 273.0, .source = EValueId_COOLANT_TEMP }, (TSpnConfig){ .spn = 1131, .pgn = 65189, .bytePos = 1, .dataLength = 1, .resolution = 1.0, .offset = 40.0, .source = EValueId_TURBO1_COMP_INLET_TEMP }, (TSpnConfig){ .spn = 1132, .pgn = 65189, .bytePos = 2, .dataLength = 1, .resolution = 1.0, .offset = 40.0, .source = EValueId_TURBO1_COMP_OUTLET_TEMP }};

extern const uint8_t SPN_CONFIG_COUNT = 20;

// PGN transmission configurations
extern const TPgnConfig PGN_CONFIGS[8] = {(TPgnConfig){ .pgn = 65129, .intervalMs = 1000, .dataLength = 8, .priority = 6 }, (TPgnConfig){ .pgn = 65164, .intervalMs = 1000, .dataLength = 8, .priority = 6 }, (TPgnConfig){ .pgn = 65189, .intervalMs = 500, .dataLength = 8, .priority = 6 }, (TPgnConfig){ .pgn = 65190, .intervalMs = 500, .dataLength = 8, .priority = 6 }, (TPgnConfig){ .pgn = 65262, .intervalMs = 1000, .dataLength = 8, .priority = 6 }, (TPgnConfig){ .pgn = 65263, .intervalMs = 500, .dataLength = 8, .priority = 6 }, (TPgnConfig){ .pgn = 65269, .intervalMs = 1000, .dataLength = 8, .priority = 6 }, (TPgnConfig){ .pgn = 65270, .intervalMs = 500, .dataLength = 8, .priority = 6 }};

extern const uint8_t PGN_CONFIG_COUNT = 8;

// Lookup helpers for SPN config tables
/* Scope: J1939Config */

EValueId J1939Config_findSourceForSpn(uint16_t spn) {
    for (uint8_t i = 0; i < SPN_CONFIG_COUNT; i = i + 1) {
        TSpnConfig cfg = SPN_CONFIGS[i];
        if (cfg.spn == spn) {
            return cfg.source;
        }
    }
    return EValueId_VALUE_ID_COUNT;
}
